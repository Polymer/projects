<!--
Copyright 2013 The Toolkitchen Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->

<link rel="import" href="../../../toolkit-elements/toolkit-layout/toolkit-layout.html">
<link rel="import" href="../../../toolkit-elements/toolkit-layout/toolkit-slide.html">
<!-- -->
<link rel="import" href="../../../aux-elements/aux-toolbar/aux-toolbar.html">
<link rel="import" href="../../../aux-elements/aux-icon-button/aux-icon-button.html">
<!-- -->
<link rel="import" href="simple-main.html">
<link rel="import" href="simple-toolbar.html">
<link rel="import" href="simple-primary-tray.html">

<element name="simple-app">
  <link rel="stylesheet" href="../../../aux-elements/basic.css">
  <template>

    <style>
      @host {
        * {
          display: block;
        }
      }
      #left, #right {
        width: 240px;
      }
      #left, #right, #main {
        -webkit-transition: inherit;
      }
    </style>

    <simple-primary-tray id="left">Primary Tray</simple-primary-tray>
    <!-- use toolkit-slide for simple dynamics -->
    <toolkit-slide id="primaryTraySlider" targetid="left" closed></toolkit-slide>

    <!-- fit attribute makes this element elastic under toolkit-layout -->
    <div id="main" fit class="aux-bg-gray">
      <aux-toolbar>       
        <aux-icon-button on-tap="primaryTrayAction" src="assets/ic_drawer_darkreg.png" active="{{$.primaryTraySlider.open}}"></aux-icon-button>
        <aux-icon-button src="assets/ic_refresh_darkreg.png"></aux-icon-button>
        <aux-icon-button src="assets/ic_mail_darkreg.png"></aux-icon-button>
        <span fit></span>
        <aux-icon-button on-tap="secondaryTrayAction" src="assets/ic_settings_lg_darkreg.png" active="{{$.secondaryTraySlider.open}}"></aux-icon-button>
      </aux-toolbar> 
      <simple-main fit>Contentful</simple-main>
      <!-- use toolkit-layout for simple tesselation -->
      <toolkit-layout vertical></toolkit-layout>
    </div>

    <div id="right" class="aux-header-gray"></div>
    <toolkit-slide id="secondaryTraySlider" targetid="right" closed></toolkit-slide>

    <toolkit-layout></toolkit-layout>

  </template>
  <script>
    Toolkit.register(this, {
      ready: function() {
        this.asyncMethod(function() {
          this.style.webkitTransition = 'all 0.3s';
        });
      },
      primaryTrayAction: function() {
        this.$.primaryTraySlider.toggle();
      },
      secondaryTrayAction: function() {
        this.$.secondaryTraySlider.toggle();
      }
    });
  </script>
</element>
