<element name="td-app">
  <link rel="components" href="../lib/components/g-director.html">
  <link rel="components" href="td-model.html">
  <link rel="components" href="td-todos.html">
  <template>
    <g-director path="/(\w*)" on-route="route"></g-director>

    <!-- make one, they're modular -->
    <td-model id="one" filter="{{filter}}"></td-model>
    <td-todos id="t_one" todos="{{$.one.data}}" filter="{{filter}}"
              activeCount="{{$.one.data.activeCount}}"></td-todos>

    <!-- make two, they're reusable -->
<!--    <td-model id="two" filter="{{filter}}"></td-model>
    <td-todos id="t_two" todos="{{two}}" filter="{{filter}}"
              activeCount="{{two.activeCount}}"></td-todos>-->
  </template>
  <script>
    this.component({
      //filter: '',
      ready: function() {
        //console.log("[td-app]: setting this.one to a data object");
        //this.one = this.$.one.data;
        this.$.one.data.items = [
          {id: 5, title: "roux", completed: false},
          {id: 6, title: "rue", completed: true},
          {id: 7, title: "slough", completed: false},
          {id: 8, title: "slew", completed: false}
        ];
//        this.two = this.$.two.data;
//        this.two.items = [
//          {id: 1, title: "wee", completed: true},
//          {id: 2, title: "see", completed: false},
//          {id: 3, title: "gee", completed: false}
//        ];
      },
      route: function(inEvent) {
        console.log("route: setting [filter] to [%s]", inEvent.detail);
        this.filter = inEvent.detail || "all";
      }
   });
  </script>
</element>