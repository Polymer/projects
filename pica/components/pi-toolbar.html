<!--
/*
 * Copyright 2012 The Toolkitchen Authors. All rights reserved.
 * Use of this source code is governed by a BSD-style
 * license that can be found in the LICENSE file.
 */
-->
<element name="pi-toolbar" attributes="label nav hideactionbar">
  <link rel="components" href="../../../toolkit/components/g-toolbar.html"/>
  <link rel="components" href="../../../toolkit/components/g-icon-button.html"/>
  <template>
    <style>
      .toolbar-label {
        font-size: 21px;
        margin: 0;
      }
      
      @media screen and (max-width: 800px) {
        .toolbar-label {
          display: -webkit-box;
          display: -webkit-flex;
          -webkit-box-pack: center;
          -webkit-justify-content: center;
          margin-right: 56px;
        }
        
        #actionbar.responsive > *:not(:last-child), #actionbar.responsive content::-webkit-distributed(*:not(:last-child)) {
          display: -webkit-box;
          -webkit-box-flex: 1;
          -webkit-flex: 1;
        }
      }
    </style>
    <g-toolbar>
      <g-icon-button src="{{navIconSrc}}" on-tap="navClick"></g-icon-button>
      <div class="toolbar-label flex">{{label}}</div>
      <g-toolbar id="actionbar" class="responsive">
        <content></content>
      </g-toolbar>
    </g-toolbar>
  </template>
  <script>
    this.component({
      nav: 'menu',
      navClick: function() {
        this.send('nav');
      },
      hideactionbarChanged: function() {
        this.$.actionbar.style.display = this.hideactionbar ? 'none' : '';
      },
      navChanged: function() {
        if (this.nav) {
          this.navIconSrc = this.node.__path__ + '../images/' + this.nav + '.png';
        }
      }
    });
  </script>
</element>
